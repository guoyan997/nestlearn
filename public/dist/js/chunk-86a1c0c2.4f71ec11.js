(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-86a1c0c2"],{"32f8":function(e,t,r){"use strict";var a=r("c1f5"),n=r.n(a);n.a},"53aa":function(e,t,r){},"54aa":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sale-content"},[r("div",{staticClass:"header-content"},[r("page-title",{attrs:{title:e.pageName}})],1),r("div",{staticClass:"main-content"},[r("div",{staticClass:"block-content-table"},[r("min-title",{attrs:{nameVal:"销售概览-店铺",show:"3"}}),r("table-list",{attrs:{tableData:e.dpXsglTableData,type:"sale-xsgl"},on:{changeTableOrder:e.changeTableOrder}})],1),r("div",{staticClass:"block-content-table"},[r("min-title",{attrs:{nameVal:"销售分析-店铺",tabsData:e.blockSwitchListDay,show:"1",type:"sale-xsfx"},on:{tabsType:e.tabsType}}),r("table-list",{attrs:{tableData:e.dpXsfxTableData,type:"sale-xsfx",needClick:!1,"default-selected":!0},on:{changeTableOrder:e.changeTableOrder}})],1),0===e.dpXsfxIndex?r("div",{staticClass:"block-content-chart"},[r("min-title",{attrs:{nameVal:e.dpQsfxTitle,show:"3"}}),r("div",{staticClass:"block-chart"},[r("BarLineChart",{attrs:{"chart-data":e.dpLineData,option:e.qsfxTwoLineOption}})],1)],1):e._e(),0!==e.dpXsfxIndex?r("div",{staticClass:"block-content-chart"},[r("min-title",{attrs:{nameVal:e.dpQsfxTitle,show:"1",tabsData:e.chartTabs,type:"sale-qsfx"},on:{tabsType:e.tabsType}}),r("div",{staticClass:"block-chart"},[r("BarLineChart",{attrs:{"chart-data":e.dpQsfxLineData,option:e.getQsLineOption(e.dpQsfxLineData)}})],1)],1):e._e(),r("div",{staticClass:"block-content-table"},[r("min-title",{attrs:{nameVal:e.dpJgfxTitle,show:"3"}}),r("type-list",{attrs:{tabsData:e.jgfxTypeList},on:{activeTypeName:e.changeJgfxType}}),r("div",{staticClass:"switch-btn"},[r("div",{staticClass:"switch-btn-core"},[r("tabs",{attrs:{tabsData:e.blockSwitchListDay,switchType:"sale-jgfx-up"},on:{tabsType:e.tabsType}})],1)]),r("table-list",{attrs:{tableData:e.jgfxTableData,type:"sale-jgfx"},on:{changeTableOrder:e.changeTableOrder}})],1)])])},n=[],s=(r("db97"),r("96cf"),r("3b8d")),i=(r("55dd"),r("7f7f"),r("ac4d"),r("8a81"),r("ac6a"),r("a170")),o=r("202d"),d=r("385b"),l=r("e0d8"),p=r("79b7"),c=r("0e1c"),f=r("2ef0"),b=r.n(f),h=r("4c3e"),u=r("2d87"),x=r("a474"),m={name:"",data:function(){return{pageName:"销售(万元)",showZy:!0,blockSwitchListDay:[{name:"日",value:"D"},{name:"月",value:"M"},{name:"季",value:"J"},{name:"年累",value:"NL"},{name:"年",value:"Y"}],chartTabs:[{name:"同比",value:"同比"},{name:"毛利",value:"毛利"}],qsfxTwoLineData:[],qsfxThreeLineData:[],dpXsfxTableDataInit:[],dpXsfxTableData:{tableHeader:[{name:"店铺",prop:"dp",needOrder:!1,order:"0",isPresent:!1,needArrow:!1},{name:"销额",prop:"xe",needOrder:!0,order:"2",isPresent:!1,needArrow:!1},{name:"销额偏差",prop:"xepc",needOrder:!0,order:"0",isPresent:!0,needArrow:!1},{name:"偏差排名",prop:"pcpm",needOrder:!0,order:"0",isPresent:!1,needArrow:!1},{name:"同比",prop:"tb",needOrder:!0,order:"0",isPresent:!0,needArrow:!0},{name:"同比排名",prop:"tbpm",needOrder:!0,order:"0",isPresent:!1,needArrow:!1}],tableContent:[]},dpXsfxTableDataHeaderMon:[{name:"店铺",prop:"dp",needOrder:!1,order:"0",isPresent:!1,needArrow:!1},{name:"销额",prop:"xe",needOrder:!0,order:"2",isPresent:!1,needArrow:!1},{name:"达成",prop:"dc",needOrder:!0,order:"0",isPresent:!0,needArrow:!1},{name:"达成排名",prop:"dcpm",needOrder:!0,order:"0",isPresent:!1,needArrow:!1},{name:"同比",prop:"tb",needOrder:!0,order:"0",isPresent:!0,needArrow:!1},{name:"同比排名",prop:"tbpm",needOrder:!0,order:"0",isPresent:!1,needArrow:!0}],dpLineData:[],dpQsfxLineDataInit:[],dpQsfxLineData:[],dpXsglTableData:{tableHeader:[{name:"时间",prop:"time",needOrder:!1,order:"0",isPresent:!1,needArrow:!1},{name:"目标",prop:"mb",needOrder:!1,order:"2",isPresent:!1,needArrow:!1},{name:"销额",prop:"xe",needOrder:!1,order:"0",isPresent:!1,needArrow:!1},{name:"达成",prop:"dc",needOrder:!1,order:"0",isPresent:!0,needArrow:!1},{name:"同比",prop:"tb",needOrder:!1,order:"0",isPresent:!0,needArrow:!0},{name:"毛利率",prop:"mlv",needOrder:!1,order:"0",isPresent:!0,needArrow:!1,newLine:!1}],tableContent:[]},dpQsfxTitle:"趋势分析",dpJgfxTitle:"结构分析",dpXsfxIndex:0,dpQsfxIndex:0,dpJgfxIndex:0,jgfxTypeList:[{name:"大类",value:"大类"},{name:"SPU",value:"SPU"}],jgfxTypeListDay:[{name:"SPU",value:"SPU"}],jgfxTableDataInit:[],jgfxTableData:{tableHeader:[{name:"大类",prop:"dl",needOrder:!1,order:"0",isPresent:!1,needArrow:!1},{name:"销额",prop:"xe",needOrder:!0,order:"0",isPresent:!1,needArrow:!1},{name:"同期",prop:"tq",needOrder:!0,order:"0",isPresent:!1,needArrow:!1},{name:"同比",prop:"tb",needOrder:!0,order:"0",isPresent:!0,needArrow:!0},{name:"毛利率",prop:"mlv",needOrder:!0,order:"0",isPresent:!0,needArrow:!0,newLine:!1},{name:"偏差",prop:"mlv",needOrder:!0,order:"0",isPresent:!0,needArrow:!0},{name:"占比",prop:"zb",needOrder:!0,order:"0",isPresent:!0,needArrow:!1}],tableContent:[]},jgfxTableDataHeaderMon:[{name:"大类",prop:"dl",needOrder:!1,order:"0",isPresent:!1,needArrow:!1},{name:"销额",prop:"xe",needOrder:!0,order:"0",isPresent:!1,needArrow:!1},{name:"同期",prop:"tq",needOrder:!0,order:"0",isPresent:!1,needArrow:!1},{name:"同比",prop:"tb",needOrder:!0,order:"0",isPresent:!0,needArrow:!0},{name:"毛利率",prop:"mlv",needOrder:!0,order:"0",isPresent:!0,needArrow:!0,newLine:!1},{name:"占比",prop:"zb",needOrder:!0,order:"0",isPresent:!0,needArrow:!1}],selectedJgfxType:"SPU",dpJgfxTypeIndex:0}},computed:{qsfxTwoLineOption:function(){var e={color:["#326DFF","#D1A226"],legend:{show:!0,selectedMode:!1,textStyle:{fontFamily:"PingFangSC-Regular",color:"#71768C",fontSize:Object(h["a"])(24)}},xAxis:[{type:"category",name:"",interval:0,nameLocation:"start",nameTextStyle:{color:"#71768C",fontSize:Object(h["a"])(24),padding:[0,0,Object(h["a"])(-30),Object(h["a"])(-80)]},data:[],axisPointer:{type:"shadow"},axisLabel:{show:!0,interval:1,textStyle:{color:"#71768C"},fontSize:Object(h["a"])(24)},axisLine:{show:!1},axisTick:{show:!1}}],yAxis:[{type:"value",name:"达成",nameTextStyle:{color:"#71768C",fontSize:Object(h["a"])(24)},show:!0,axisLabel:{show:!0,fontSize:Object(h["a"])(24),textStyle:{color:"#71768C"},formatter:"{value}%"},axisLine:{show:!1,lineStyle:{color:"#ECEFF2"}},splitLine:{show:!0,lineStyle:{color:"#213A6B"}}}],series:[{type:"line",name:"实际",smooth:!0,symbol:"none",yAxisIndex:0,lineStyle:{color:"#FFBE14",type:"solid",width:Object(h["a"])(2)},data:[]},{type:"line",name:"目标",yAxisIndex:0,symbol:"none",smooth:!0,lineStyle:{color:"#326DFF",type:"solid",width:Object(h["a"])(2)},data:[]}]},t=[],r=[],a=[],n=!0,s=!1,i=void 0;try{for(var o,d=this.dpLineData[Symbol.iterator]();!(n=(o=d.next()).done);n=!0){var l=o.value;t.push(l.label),r.push(l.sj),a.push(l.mb)}}catch(p){s=!0,i=p}finally{try{n||null==d.return||d.return()}finally{if(s)throw i}}return e.xAxis[0].data=t,e.series[0].data=r,e.series[1].data=a,e},dateStr:function(){return this.$store.state.dateStr},dateStrM:function(){return this.$store.getters.dateStrM},dateStrJ:function(){return this.$store.getters.dateStrJ},userIdentityInit:function(){return this.$store.state.userIdentityInit},selectedDpName:function(){return this.$store.state.selectedDpName},selectedZgsName:function(){var e=this.$store.state.authList,t="";if("2"===this.userIdentityInit){var r=!0,a=!1,n=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done);r=!0){var o=s.value;if(o.shop===this.selectedDpName){t=o.role;break}}}catch(h){a=!0,n=h}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}}else if("3"===this.userIdentityInit){var d=!0,l=!1,p=void 0;try{for(var c,f=e[Symbol.iterator]();!(d=(c=f.next()).done);d=!0){var b=c.value;if(b.role===this.selectedDpName){t=b.zgs;break}}}catch(h){l=!0,p=h}finally{try{d||null==f.return||f.return()}finally{if(l)throw p}}}return t}},methods:{tabsType:function(e){e.activeValue,e.name;var t=e.type,r=e.index;"sale-xsfx"===t?(this.dpXsfxIndex=r,this.dealDpXsfxTableData()):"sale-jgfx-up"===t?(this.dpJgfxIndex=r,this.dealDpjgfxTableData()):"sale-qsfx"===t&&(this.dpQsfxIndex=r,this.dealDpQsfxLineData())},changeTableOrder:function(e){var t=e.header,r=e.type,a={tableHeader:[],tableContent:[]};"sale-xsfx"===r?a=b.a.cloneDeep(this.dpXsfxTableData):"sale-jgfx"===r&&(a=b.a.cloneDeep(this.jgfxTableData));var n=[],s=[],i=!0,o=!1,d=void 0;try{for(var l,p=a.tableHeader[Symbol.iterator]();!(i=(l=p.next()).done);i=!0){var c=l.value;"0"===t.order?c.needOrder&&t.prop===c.prop?c.order="1":c.needOrder&&t.prop!==c.prop&&(c.order="0"):"1"===t.order?c.needOrder&&t.prop===c.prop?c.order="2":c.needOrder&&t.prop!==c.prop&&(c.order="0"):"2"===t.order&&(c.needOrder&&t.prop===c.prop?c.order="1":c.needOrder&&t.prop!==c.prop&&(c.order="0")),n.push(c)}}catch(f){o=!0,d=f}finally{try{i||null==p.return||p.return()}finally{if(o)throw d}}"0"===t.order?s=a.tableContent.sort(Object(u["a"])(t.prop,!0)):"1"===t.order?s=a.tableContent.sort(Object(u["a"])(t.prop,!1)):"2"===t.order&&(s=a.tableContent.sort(Object(u["a"])(t.prop,!0))),"sale-xsfx"===r?(this.dpXsfxTableData.tableHeader=n,this.dpXsfxTableData.tableContent=s):"sale-jgfx"===r&&(this.jgfxTableData.tableHeader=n,this.jgfxTableData.tableContent=s)},getQsLineOption:function(e){var t={color:["#326DFF","#D1A226","#FF0200"],legend:{show:!0,textStyle:{fontFamily:"PingFangSC-Regular",color:"#71768C",fontSize:Object(h["a"])(24)}},xAxis:[{type:"category",name:"",interval:0,nameLocation:"start",nameTextStyle:{color:"#71768C",fontSize:Object(h["a"])(24),padding:[0,0,Object(h["a"])(-30),Object(h["a"])(-80)]},data:[],axisPointer:{type:"shadow"},axisLabel:{show:!0,interval:0,textStyle:{color:"#71768C"},fontSize:Object(h["a"])(24)},axisLine:{show:!1},axisTick:{show:!1}}],yAxis:[{type:"value",name:"达成",nameTextStyle:{color:"#71768C",fontSize:Object(h["a"])(24)},axisLabel:{show:!0,fontSize:Object(h["a"])(24),textStyle:{color:"#71768C"},formatter:"{value}%"},axisLine:{show:!1,lineStyle:{color:"#ECEFF2"}},splitLine:{show:!1,lineStyle:{color:"#7d838b"}},axisTick:{show:!1}},{type:"value",name:0===this.qsfxIndex?"同比":"毛利",nameTextStyle:{color:"#71768C",fontSize:Object(h["a"])(24)},show:!0,axisLabel:{show:!0,fontSize:Object(h["a"])(24),textStyle:{color:"#71768C"},formatter:"{value}%"},axisLine:{show:!1,lineStyle:{color:"#ECEFF2"}},splitLine:{show:!0,lineStyle:{color:"#213A6B"}}}],series:[{type:"line",name:"达成",smooth:!0,symbol:"none",yAxisIndex:0,lineStyle:{color:"#326DFF",type:"solid",width:Object(h["a"])(4)},data:[]},{type:"line",name:0===this.qsfxIndex?"同比":"毛利率",symbol:"none",smooth:!0,yAxisIndex:1,lineStyle:{color:"#FFBE14",type:"solid",width:Object(h["a"])(4)},data:[]},{type:"line",name:"年累计达成",yAxisIndex:0,symbol:"none",lineStyle:{color:"#FF0200",type:"dashed",width:Object(h["a"])(4)},data:[]}]},r=[],a=[],n=[],s=[],i=!0,o=!1,d=void 0;try{for(var l,p=e[Symbol.iterator]();!(i=(l=p.next()).done);i=!0){var c=l.value;r.push(c.label),a.push(c.dc),n.push(c.tb),s.push(c.nljdc)}}catch(f){o=!0,d=f}finally{try{i||null==p.return||p.return()}finally{if(o)throw d}}return t.xAxis[0].data=r,t.series[0].data=a,t.series[1].data=n,t.series[2].data=s,t},changeJgfxType:function(e){e.activeTypeName;var t=e.index;e.type;this.dpJgfxTypeIndex=t,this.dealDpjgfxTableData()},getAllData:function(){this.getDpXsglTableData(this.selectedZgsName,this.selectedDpName),this.getDpXsfxTableData(this.selectedZgsName)},getDpXsglTableData:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,r){var a,n,s,i,o,d,l,p,c,f,b,h;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x["a"].getDataFromInterface(x["a"].saleShop.getDpXsglTableData,{dateStrD:this.dateStr,dateStrM:this.dateStrM,dateStrJ:this.dateStrJ,subName:t,cusName:r});case 2:if(a=e.sent,n=a.__statusCode,s=a.data,!Object.is(n,"1")){e.next=28;break}for(i=JSON.parse(s),o=[],d=!0,l=!1,p=void 0,e.prev=11,c=i.res[Symbol.iterator]();!(d=(f=c.next()).done);d=!0)b=f.value,h={},h.time=b.period_wid,"本日"===b.period_wid?(h.mb="--",h.dc="--",h.tb="--",h.xe=Object(u["c"])(Object(u["f"])(b.output_amt),2),h.mlv=(100*Object(u["f"])(b.margin_rate)).toFixed(1)):(h.mb=Object(u["c"])(Object(u["f"])(b.target_amt),2),h.xe=Object(u["c"])(Object(u["f"])(b.output_amt),2),h.dc=(100*Object(u["f"])(b.yield_rate)).toFixed(1),h.tb=(100*Object(u["f"])(b.output_amt_yoy)).toFixed(1),h.mlv=(100*Object(u["f"])(b.margin_rate)).toFixed(1)),o.push(h);e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](11),l=!0,p=e.t0;case 19:e.prev=19,e.prev=20,d||null==c.return||c.return();case 22:if(e.prev=22,!l){e.next=25;break}throw p;case 25:return e.finish(22);case 26:return e.finish(19);case 27:o.length>0?this.dpXsglTableData={tableHeader:[{name:"时间",prop:"time",needOrder:!1,order:"0",isPresent:!1,needArrow:!1},{name:"目标",prop:"mb",needOrder:!1,order:"2",isPresent:!1,needArrow:!1},{name:"销额",prop:"xe",needOrder:!1,order:"0",isPresent:!1,needArrow:!1},{name:"达成",prop:"dc",needOrder:!1,order:"0",isPresent:!0,needArrow:!1},{name:"同比",prop:"tb",needOrder:!1,order:"0",isPresent:!0,needArrow:!0},{name:"毛利率",prop:"mlv",needOrder:!1,order:"0",isPresent:!0,needArrow:!1,newLine:!1}],tableContent:o.sort(Object(u["a"])("mb",!0))}:this.dpXsglTableData={tableHeader:[{name:"时间",prop:"time",needOrder:!1,order:"0",isPresent:!1,needArrow:!1},{name:"目标",prop:"mb",needOrder:!1,order:"2",isPresent:!1,needArrow:!1},{name:"销额",prop:"xe",needOrder:!1,order:"0",isPresent:!1,needArrow:!1},{name:"达成",prop:"dc",needOrder:!1,order:"0",isPresent:!0,needArrow:!1},{name:"同比",prop:"tb",needOrder:!1,order:"0",isPresent:!0,needArrow:!0},{name:"毛利率",prop:"mlv",needOrder:!1,order:"0",isPresent:!0,needArrow:!1,newLine:!1}],tableContent:[]};case 28:case"end":return e.stop()}},e,this,[[11,15,19,27],[20,,22,26]])}));function t(t,r){return e.apply(this,arguments)}return t}(),getDpXsfxTableData:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var r,a,n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x["a"].getDataFromInterface(x["a"].saleShop.getDpXsfxTableData,{dateNum:Object(u["e"])(this.dateStr),dateStrD:this.dateStr,dateStrM:this.dateStrM,dateStrJ:this.dateStrJ,subName:t});case 2:r=e.sent,a=r.__statusCode,n=r.data,Object.is(a,"1")&&(s=JSON.parse(n),this.dpXsfxTableDataInit=s,this.dealDpXsfxTableData());case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),dealDpXsfxTableData:function(){var e=[],t=[];if(0===this.dpXsfxIndex?t=this.dpXsfxTableDataInit.resD||[]:1===this.dpXsfxIndex?t=this.dpXsfxTableDataInit.resM||[]:2===this.dpXsfxIndex?t=this.dpXsfxTableDataInit.resJ||[]:3===this.dpXsfxIndex?t=this.dpXsfxTableDataInit.resNl||[]:4===this.dpXsfxIndex&&(t=this.dpXsfxTableDataInit.resY||[]),0===this.dpXsfxIndex){var r=!0,a=!1,n=void 0;try{for(var s,i=t[Symbol.iterator]();!(r=(s=i.next()).done);r=!0){var o=s.value,d={};d.dp=o.customer_name,d.xe=Object(u["c"])(Object(u["f"])(o.output_amt),2),d.xepc=(100*Object(u["f"])(o.deviation)).toFixed(1),d.pcpm=Object(u["c"])(Object(u["f"])(o.order_deviation),0),d.tb=(100*Object(u["f"])(o.output_amt_yoy)).toFixed(1),d.tbpm=Object(u["c"])(Object(u["f"])(o.order_output_amt_yoy),0),e.push(d)}}catch(O){a=!0,n=O}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}}else{var l=!0,p=!1,c=void 0;try{for(var f,b=t[Symbol.iterator]();!(l=(f=b.next()).done);l=!0){var h=f.value,x={};x.dp=h.customer_name,x.xe=Object(u["c"])(Object(u["f"])(h.output_amt),2),x.dc=(100*Object(u["f"])(h.yield_rate)).toFixed(1),x.dcpm=Object(u["c"])(Object(u["f"])(h.order_yield_rate),0),x.tb=(100*Object(u["f"])(h.output_amt_yoy)).toFixed(1),x.tbpm=Object(u["c"])(Object(u["f"])(h.order_output_amt_yoy),0),e.push(x)}}catch(O){p=!0,c=O}finally{try{l||null==b.return||b.return()}finally{if(p)throw c}}}var m=[{name:"店铺",prop:"dp",needOrder:!1,order:"0",isPresent:!1,needArrow:!1},{name:"销额",prop:"xe",needOrder:!0,order:"2",isPresent:!1,needArrow:!1},{name:"销额偏差",prop:"xepc",needOrder:!0,order:"0",isPresent:!0,needArrow:!1},{name:"偏差排名",prop:"pcpm",needOrder:!0,order:"0",isPresent:!1,needArrow:!1},{name:"同比",prop:"tb",needOrder:!0,order:"0",isPresent:!0,needArrow:!0},{name:"同比排名",prop:"tbpm",needOrder:!0,order:"0",isPresent:!1,needArrow:!1}];if(this.dpXsfxTableData={tableHeader:0===this.dpXsfxIndex?m:this.dpXsfxTableDataHeaderMon,tableContent:e.sort(Object(u["a"])("xe",!1))},this.dpXsfxTableData.tableContent.length>0){var y=this.selectedDpName;this.dpQsfxTitle="趋势分析-"+y,this.dpJgfxTitle="结构分析-"+y,0===this.dpXsfxIndex?this.getDpQsfxLineDayData(y):this.getDpQsfxLineMonData(y),this.getJgfxTableData(this.selectedZgsName,this.selectedDpName)}else this.dpQsfxTitle="趋势分析",this.dpJgfxTitle="结构分析",this.dpLineData=[],this.dpQsfxLineData=[],this.jgfxTableData.tableContent=[]},getDpQsfxLineDayData:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var r,a,n,s,i,o,d,l,p,c,f,b;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x["a"].getDataFromInterface(x["a"].saleShop.getDpQsfxLineDayData,{dateStrD:this.dateStr,dateStrM:this.dateStrM,cusName:t});case 2:if(r=e.sent,a=r.__statusCode,n=r.data,!Object.is(a,"1")){e.next=28;break}for(s=JSON.parse(n),i=[],o=!0,d=!1,l=void 0,e.prev=11,p=s.resD[Symbol.iterator]();!(o=(c=p.next()).done);o=!0)f=c.value,b={},b.label=f.period_wid,b.mb=100*Object(u["f"])(f.yield_rate),b.sj=100*Object(u["f"])(f.target_yield_rate),i.push(b);e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](11),d=!0,l=e.t0;case 19:e.prev=19,e.prev=20,o||null==p.return||p.return();case 22:if(e.prev=22,!d){e.next=25;break}throw l;case 25:return e.finish(22);case 26:return e.finish(19);case 27:i.length>0?this.dpLineData=i:this.dpLineData=[];case 28:case"end":return e.stop()}},e,this,[[11,15,19,27],[20,,22,26]])}));function t(t){return e.apply(this,arguments)}return t}(),getDpQsfxLineMonData:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var r,a,n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x["a"].getDataFromInterface(x["a"].saleShop.getDpQsfxLineMonData,{dateStrD:this.dateStr,dateStrM:this.dateStrM,cusName:t});case 2:r=e.sent,a=r.__statusCode,n=r.data,Object.is(a,"1")&&(s=JSON.parse(n),this.dpQsfxLineDataInit=s.resM,this.dealDpQsfxLineData());case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),dealDpQsfxLineData:function(){var e=[],t=!0,r=!1,a=void 0;try{for(var n,s=this.dpQsfxLineDataInit[Symbol.iterator]();!(t=(n=s.next()).done);t=!0){var i=n.value,o={};o.label=i.period_wid,o.dc=100*Object(u["f"])(i.yield_rate),0===this.dpQsfxIndex?o.tb=100*Object(u["f"])(i.output_amt_yoy):o.tb=100*Object(u["f"])(i.margin_rate),o.nljdc=100*Object(u["f"])(i.nl_yield_rate),e.push(o)}}catch(d){r=!0,a=d}finally{try{t||null==s.return||s.return()}finally{if(r)throw a}}e.length>0?this.dpQsfxLineData=e:this.dpQsfxLineData=[]},getJgfxTableData:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,r){var a,n,s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x["a"].getDataFromInterface(x["a"].saleShop.getDpjgfxTableData,{dateNum:Object(u["e"])(this.dateStr),dateStr:this.dateStr,dateStrM:this.dateStrM,dateStrJ:this.dateStrJ,subName:t,cusName:r});case 2:a=e.sent,n=a.__statusCode,s=a.data,Object.is(n,"1")&&(i=JSON.parse(s),this.jgfxTableDataInit=i,this.dealDpjgfxTableData());case 6:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}(),dealDpjgfxTableData:function(){var e=[],t=[],r="resDl";if(r=0===this.dpJgfxTypeIndex?"resDl":"resSpu",0===this.dpJgfxIndex?t=this.jgfxTableDataInit[r+"D"]||[]:1===this.dpJgfxIndex?t=this.jgfxTableDataInit[r+"M"]||[]:2===this.dpJgfxIndex?t=this.jgfxTableDataInit[r+"J"]||[]:3===this.dpJgfxIndex?t=this.jgfxTableDataInit[r+"NL"]||[]:4===this.dpJgfxIndex&&(t=this.jgfxTableDataInit[r+"Y"]||[]),0===this.dpJgfxIndex){var a=!0,n=!1,s=void 0;try{for(var i,o=t[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var d=i.value,l={};l.dl=d.type_name,l.xe=Object(u["c"])(Object(u["f"])(d.output_amt),2),l.tq=Object(u["c"])(Object(u["f"])(d.output_amt_lym),2),l.tb=(100*Object(u["f"])(d.output_amt_yoy)).toFixed(1),l.mlv=(100*Object(u["f"])(d.margin_rate)).toFixed(1),l.pc=(100*Object(u["f"])(d.deviation)).toFixed(1),l.zb=(100*Object(u["f"])(d.rotio_rate)).toFixed(1),e.push(l)}}catch(O){n=!0,s=O}finally{try{a||null==o.return||o.return()}finally{if(n)throw s}}}else{var p=!0,c=!1,f=void 0;try{for(var b,h=t[Symbol.iterator]();!(p=(b=h.next()).done);p=!0){var x=b.value,m={};m.dl=x.type_name,m.xe=Object(u["c"])(Object(u["f"])(x.output_amt),2),m.tq=Object(u["c"])(Object(u["f"])(x.target_amt),2),m.tb=(100*Object(u["f"])(x.output_amt_yoy)).toFixed(1),m.mlv=(100*Object(u["f"])(x.margin_rate)).toFixed(1),m.zb=(100*Object(u["f"])(x.rotio_rate)).toFixed(1),e.push(m)}}catch(O){c=!0,f=O}finally{try{p||null==h.return||h.return()}finally{if(c)throw f}}}var y=[{name:"大类",prop:"dl",needOrder:!1,order:"0",isPresent:!1,needArrow:!1},{name:"销额",prop:"xe",needOrder:!0,order:"0",isPresent:!1,needArrow:!1},{name:"同期",prop:"tq",needOrder:!0,order:"0",isPresent:!1,needArrow:!1},{name:"同比",prop:"tb",needOrder:!0,order:"0",isPresent:!0,needArrow:!0},{name:"毛利率",prop:"mlv",needOrder:!0,order:"0",isPresent:!0,needArrow:!0,newLine:!1},{name:"偏差",prop:"pc",needOrder:!0,order:"0",isPresent:!0,needArrow:!0},{name:"占比",prop:"zb",needOrder:!0,order:"0",isPresent:!0,needArrow:!1}];this.jgfxTableData={tableHeader:0===this.dpJgfxIndex?y:this.jgfxTableDataHeaderMon,tableContent:e.sort(Object(u["a"])("xe",!1))}}},created:function(){this.$store.commit("updateHeaderTitle","销售"),this.$store.commit("updateShowIcon",!0),this.$store.commit("updateDateStr",this.$store.state.dateStrInit),this.$store.dispatch("updateUserOption",{USER_ACCOUNT:window.userAccount,EXAMINATION_SUBJECT:"直营",LEVEL:"店铺",URL:"销售"}),""!==this.dateStr&&this.getAllData()},mounted:function(){this.$eventBus.$on("userSelected",this.getAllData)},beforeDestroy:function(){this.$eventBus.$off("userSelected",this.getAllData)},components:{Tabs:c["a"],pageTitle:i["a"],MinTitle:o["a"],BarLineChart:d["a"],TableList:l["a"],TypeList:p["a"]}},y=m,O=(r("32f8"),r("2877")),v=Object(O["a"])(y,a,n,!1,null,"39693b38",null);t["default"]=v.exports},"5bc8":function(e,t,r){"use strict";var a=r("53aa"),n=r.n(a);n.a},"79b7":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tabs"},[r("ul",{staticClass:"tabs-item"},e._l(e.tabsData,function(t,a){return r("li",{key:a,class:a===e.activeIndex?"active":"",style:e.withObj,on:{click:function(r){return e.changeType(a,t)}}},[e._v(e._s(t.name))])}),0)])},n=[],s={name:"Title",props:{tabsData:{type:Array,default:function(){return[{name:"考核主体分析",value:"考核主体"},{name:"大类分析",value:"大类"}]}},switchType:{type:String,default:""},defaultIndex:{type:String,default:"0"}},data:function(){return{activeIndex:0,activeTypeName:""}},computed:{withObj:function(){return{width:100/this.tabsData.length+"%"}}},methods:{changeType:function(e,t){this.activeIndex=e,this.activeTypeName=t.value,this.$emit("activeTypeName",{activeTypeName:this.activeTypeName,index:this.activeIndex,type:this.switchType})}},created:function(){var e=this;this.$eventBus.$on("resetTypeList",function(){e.tabsData.length>0&&(e.activeIndex=0,e.activeTypeName=e.tabsData[0].value)})}},i=s,o=(r("5bc8"),r("2877")),d=Object(o["a"])(i,a,n,!1,null,"1bc23b3a",null);t["a"]=d.exports},c1f5:function(e,t,r){}}]);
//# sourceMappingURL=chunk-86a1c0c2.4f71ec11.js.map